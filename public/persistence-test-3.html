<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Picasso Persistence Test - Page 3</title>
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        nav {
            background: #f5f5f5;
            padding: 15px;
            margin-bottom: 30px;
            border-radius: 8px;
        }
        nav a {
            margin-right: 20px;
            color: #3b82f6;
            text-decoration: none;
        }
        nav a:hover {
            text-decoration: underline;
        }
        .current {
            font-weight: bold;
            color: #1f2937;
        }
        .test-results {
            background: #fef3c7;
            border: 1px solid #fcd34d;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        code {
            background: #f3f4f6;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <nav>
        <a href="persistence-test.html">Page 1</a>
        <a href="persistence-test-2.html">Page 2</a>
        <a href="persistence-test-3.html" class="current">Page 3</a>
    </nav>

    <h1>Conversation Persistence Test - Page 3</h1>
    
    <div class="test-results">
        <h3>ðŸ“Š Test Results Check:</h3>
        <p>By now, you should have observed:</p>
        <ul>
            <li>âœ“ Conversation history maintained across all 3 pages</li>
            <li>âœ“ Session ID remains the same</li>
            <li>âœ“ Widget state (open/closed) persisted</li>
            <li>âœ“ Scroll position restored when reopening</li>
            <li>âœ“ "Continuing previous conversation" indicator appeared</li>
        </ul>
    </div>

    <h2>Technical Details</h2>
    <p>The persistence system uses:</p>
    <ul>
        <li><code>sessionStorage</code> for all data (cleared when browser closes)</li>
        <li>30-minute inactivity timeout</li>
        <li>Session ID format: <code>session_{timestamp}_{random}</code></li>
    </ul>

    <h2>Visual Improvements</h2>
    <p>Notice the visual enhancements:</p>
    <ul>
        <li>Container has a subtle border and shadow</li>
        <li>4px padding between iframe and container shows the border</li>
        <li>Border radius creates a nice inset effect</li>
    </ul>

    <p><strong>Try closing the chat and reopening it</strong> - your conversation and scroll position should be preserved!</p>

    <!-- Load the widget -->
    <script src="current-widget.js" data-tenant="fo85e6a06dcdf4" data-dev="true"></script>
</body>
</html>